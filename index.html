<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Camera 01</title>
</head>
<style>
  .photo {
    border-radius: 100%;
    border: 3px solid #C4C4C4;
    background-color: #eee;
    width: 70px;
    height: 70px;
    position: fixed;
    bottom: 50px;
    right: 10px;
    z-index: 9999;
    cursor: pointer;
  }
</style>
<script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.2/aframe/build/aframe-ar.js"></script>
<body style='margin : 0px; overflow: hidden;'>
  <button type="button" class="photo"></button>

  <a-scene embedded arjs='detectionMode: mono_and_matrix; matrixCodeType: 3x3; sourceType: webcam; debugUIEnabled: false;'>
    <a-assets>
      <!--<a-asset-item id="testModel" src="https://cdn.aframe.io/test-models/models/glTF-2.0/virtualcity/VC.gltf"></a-asset-item>-->
      <a-asset-item id="octopus" src="models/octopus.glb"></a-asset-item>
      <a-asset-item id="pig" src="models/pig.glb"></a-asset-item>
      <a-asset-item id="fly" src="models/fly.glb"></a-asset-item>
      <a-asset-item id="unicorn" src="models/unicorn.glb"></a-asset-item>
      <a-asset-item id="zombie" src="models/zombie.glb"></a-asset-item>
      <a-asset-item id="cat" src="models/cat.glb"></a-asset-item>
      <a-asset-item id="pony" src="models/pony.glb"></a-asset-item>
      <a-asset-item id="pickleRick" src="models/pickleRick.glb"></a-asset-item>
      <a-asset-item id="owl" src="models/owl.glb"></a-asset-item>
      <a-asset-item id="tv" src="models/tv.glb"></a-asset-item>
      <a-asset-item id="mirror" src="models/mirror.glb"></a-asset-item>
      <a-asset-item id="coffee" src="models/coffee.glb"></a-asset-item>
    </a-assets>

    <a-marker type='barcode' value='0'>
      <a-image src="/cam01/markers/1.png" rotation="-90 0 0" position=""></a-image>
    </a-marker>

    <a-marker type='barcode' value='1'>
      <a-entity gltf-model="#fly" rotation="0 180 0" modify-materials></a-entity>
    </a-marker>

    <a-marker type='barcode' value='4'>
      <a-entity gltf-model="#octopus" rotation="" position="" modify-materials></a-entity>
    </a-marker>

    <a-marker type='barcode' value='5'>
      <a-entity gltf-model="#zombie" rotation="" position="" modify-materials></a-entity>
    </a-marker>

    <a-marker type='barcode' value='7'>
      <a-box material='color: red;opacity: 0.5'></a-box>
    </a-marker>

    <a-marker type='barcode' value='8'>
      <a-entity gltf-model="#tv" modify-materials></a-entity>
    </a-marker>

    <a-marker type='barcode' value='9'>
      <a-entity gltf-model="#mirror" modify-materials></a-entity>
    </a-marker>

    <a-marker type='barcode' value='10'>
      <a-entity gltf-model="#coffee" modify-materials></a-entity>
    </a-marker>

    <a-marker type='barcode' value='11'>
      <a-entity gltf-model="#cat" modify-materials></a-entity>
    </a-marker>

    <a-marker type='barcode' value='12'>
      <a-box material='color: red;opacity: 0.5'></a-box>
    </a-marker>

    <a-marker type='barcode' value='14'>
      <a-image src="models/kir.png" rotation="-70 0 0" position=""></a-image>
    </a-marker>

    <a-marker type='barcode' value='20'>
      <a-entity gltf-model="#unicorn" rotation="" position="" modify-materials></a-entity>
    </a-marker>

    <a-entity camera></a-entity>
</a-scene>

<script>
  document.querySelector('button.photo').addEventListener('click', () => {
    document.querySelector('a-scene').components.screenshot.getCanvas('perspective');
  });
</script>
</body>
</html>
